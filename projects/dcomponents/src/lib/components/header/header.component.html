<div class="d-header-nav" [class.top]="top$ | push">
  <div class="d-new-wrap hh">
    <div class="d-logo">
      <a href="https://www.deepin.org">
        <img [src]="icon" alt="logo" width="130" height="48" />
      </a>
      <div class="d-toggle-menu" (click)="phoneShowMenu()">
        <span></span>
      </div>
    </div>
    <ul class="d-menu" [class.phone-show]="phoneMenuShow$ | push">
      <ng-container *ngFor="let item of menu$ | push; index as index">
        <li
          [class.has-sub-menu]="item.children.length"
          [class.is-link]="item.url"
          [class.hover]="
            (showSubMenuIndex$ | debounceTime: 200 | push) === index
          "
          (mouseenter)="menuMouseenter(index)"
          (mouseleave)="menuMouseenter(-1)"
        >
          <a [attr.href]="item.url || null">
            <span>{{ item.name }}</span>
          </a>
          <ul
            class="d-sub-menu"
            [@subMenu]="
              (showSubMenuIndex$ | debounceTime: 200 | push) === index
                ? 'show'
                : 'hide'
            "
          >
            <ng-container *ngFor="let child of item.children">
              <li>
                <a [attr.href]="child.url || null">
                  <span>{{ child.name }}</span>
                </a>
              </li>
            </ng-container>
          </ul>
        </li>
      </ng-container>
      <slot name="menu"></slot>
    </ul>
  </div>
</div>
